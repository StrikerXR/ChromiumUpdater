<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chromium Build Tracker</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap');

        :root {
            --chrome-blue: #1a73e8;
            --chrome-blue-dark: #174ea6;
            --bg-gradient: linear-gradient(135deg, #e8f0fe 0%, #d2e3fc 100%);
            --glass: rgba(255, 255, 255, 0.8);
        }

        body {
            font-family: 'Google Sans', sans-serif;
            background: var(--bg-gradient);
            height: 100vh;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .container {
            background: var(--glass);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            padding: 40px;
            border-radius: 32px;
            box-shadow: 0 16px 40px rgba(0, 0, 0, 0.08);
            text-align: center;
            width: 320px;
            position: relative;
            z-index: 1;
        }

        .label {
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-size: 11px;
            font-weight: 700;
            color: var(--chrome-blue-dark);
            margin-bottom: 12px;
            opacity: 0.6;
        }

        .position {
            font-size: 3.8rem;
            font-weight: 700;
            color: #202124;
            margin: 0;
            letter-spacing: -2px;
            line-height: 1;
        }

        .status-pill {
            display: inline-flex;
            align-items: center;
            background: white;
            padding: 8px 18px;
            border-radius: 30px;
            font-size: 12px;
            font-weight: 500;
            margin-top: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .dot {
            width: 8px;
            height: 8px;
            background: var(--chrome-blue);
            border-radius: 50%;
            margin-right: 10px;
            animation: pulse 1.5s infinite;
        }

        button {
            margin-top: 25px;
            width: 100%;
            border: none;
            background: var(--chrome-blue);
            color: white;
            padding: 18px;
            border-radius: 18px;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        button:active { transform: scale(0.96); opacity: 0.9; }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.3); opacity: 0.5; }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="label">Current Position</div>
        <div id="pos" class="position">------</div>

        <div class="status-pill">
            <div class="dot"></div>
            <span id="status">Syncing...</span>
        </div>

        <button onclick="fetchPosition()">Refresh Build</button>
    </div>

    <script>
        async function fetchPosition() {
            const status = document.getElementById('status');
            const posDiv = document.getElementById('pos');
            status.innerText = "Syncing...";
            
            try {
                // Corrected path: Android_Arm64 (Capital A)
                const url = 'https://www.googleapis.com/download/storage/v1/b/chromium-browser-snapshots/o/Android_Arm64%2FLAST_CHANGE?alt=media';
                
                // Using AllOrigins to handle CORS
                const response = await fetch(`https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`);
                
                if (!response.ok) throw new Error();
                const data = await response.text();
                
                posDiv.innerText = data.trim();
                status.innerText = "Live: " + new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            } catch (e) {
                status.innerText = "Path Error - Retrying...";
                // Fallback attempt for standard naming
                try {
                    const altUrl = 'https://api.allorigins.win/raw?url=' + encodeURIComponent('https://www.googleapis.com/download/storage/v1/b/chromium-browser-snapshots/o/Android_arm64%2FLAST_CHANGE?alt=media');
                    const altRes = await fetch(altUrl);
                    const altData = await altRes.text();
                    posDiv.innerText = altData.trim();
                    status.innerText = "Live (Alt Path)";
                } catch(err) {
                    status.innerText = "Server Unreachable";
                }
            }
        }
        fetchPosition();
    </script>
</body>
</html>
        .version-box {
            position: relative;
            display: inline-block;
        }

        .position {
            font-size: 3.5rem;
            font-weight: 700;
            color: #202124;
            margin: 0;
            letter-spacing: -2px;
            line-height: 1;
        }

        .status-pill {
            display: inline-flex;
            align-items: center;
            background: rgba(26, 115, 232, 0.1);
            color: var(--chrome-blue);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            margin-top: 24px;
        }

        .dot {
            width: 8px;
            height: 8px;
            background: var(--chrome-blue);
            border-radius: 50%;
            margin-right: 8px;
            animation: pulse 1.5s infinite;
        }

        button {
            margin-top: 32px;
            width: 100%;
            border: none;
            background: var(--chrome-blue);
            color: white;
            padding: 16px;
            border-radius: 16px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(26, 115, 232, 0.2);
            transition: all 0.2s ease;
        }

        button:hover { background: var(--chrome-blue-dark); box-shadow: 0 6px 16px rgba(26, 115, 232, 0.3); }
        button:active { transform: scale(0.97); }

        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.4; transform: scale(1.2); }
            100% { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<body>

    <div class="shape shape-1"></div>
    <div class="shape shape-2"></div>

    <div class="container">
        <svg class="logo" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 0C8.21 0 4.88 1.55 2.5 4.06L5.44 9.14C5.78 8.41 6.37 7.82 7.1 7.48L7.12 7.47C8.5 6.84 10.21 7.02 11.41 7.92L11.41 7.93L15.93 4.07C14.77 3.39 13.43 3 12 3C8.69 3 5.79 4.84 4.26 7.58L2.01 3.68C4.54 1.43 7.91 0 11.63 0H12ZM21.5 4.06C19.12 1.55 15.79 0 12 0H11.63L16.14 7.82C17.06 9.4 16.96 11.42 15.84 12.91L11.4 16.78C11.6 16.85 11.8 16.92 12 16.92C14.76 16.92 17 14.68 17 11.92C17 11.23 16.86 10.58 16.61 10H22C21.93 7.8 21.24 5.76 20.08 4.06L21.5 4.06ZM2.5 4.06C1.55 4.88 0 8.21 0 12C0 17.3 3.42 21.8 8.24 23.41L11.18 18.33C9.79 18.33 8.44 17.78 7.44 16.78L2.91 12.91C2.5 11.42 2.59 9.8 3.19 8.32L2.5 4.06ZM12 7.5C9.51 7.5 7.5 9.51 7.5 12C7.5 14.49 9.51 16.5 12 16.5C14.49 16.5 16.5 14.49 16.5 12C16.5 9.51 14.49 7.5 12 7.5Z" fill="#1A73E8"/>
        </svg>

        <div class="label">Latest Position</div>
        <div class="version-box">
            <div id="pos" class="position">------</div>
        </div>

        <div class="status-pill">
            <div class="dot"></div>
            <span id="status">Syncing with BuildBot...</span>
        </div>

        <button onclick="fetchPosition()">Check Now</button>
    </div>

    <script>
        async function fetchPosition() {
            const status = document.getElementById('status');
            const posDiv = document.getElementById('pos');
            
            status.innerText = "Syncing...";
            
            try {
                // Using a public CORS proxy to bypass security blocks
                const response = await fetch('https://api.allorigins.win/raw?url=' + encodeURIComponent('https://www.googleapis.com/download/storage/v1/b/chromium-browser-snapshots/o/Android_arm64%2FLAST_CHANGE?alt=media'));
                if (!response.ok) throw new Error();
                
                const data = await response.text();
                posDiv.innerText = data.trim();
                status.innerText = "Live: " + new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            } catch (e) {
                status.innerText = "API Offline";
                posDiv.innerText = "Offline";
            }
        }

        fetchPosition();
        // Refresh every 5 minutes automatically
        setInterval(fetchPosition, 300000);
    </script>
</body>
</html>
